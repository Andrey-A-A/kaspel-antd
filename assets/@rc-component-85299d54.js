import{c as b,f as tt,e as j,g as xr,h as kt}from"./@babel-f0771d6b.js";import{r as a}from"./react-edf7a294.js";import{r as wt}from"./react-dom-524d7060.js";import{c as Tr,a as q,d as Lt,u as Nt,r as lt,s as Wr,e as St,f as Pe,i as at,h as Tt,j as st,g as nt,k as xt,l as Wt,m as zt,n as Bt,o as _t}from"./rc-util-257278b1.js";import{c as Xe}from"./classnames-4ba1ba1a.js";import{R as Pt}from"./rc-resize-observer-7fcc4f71.js";import{C as Dt}from"./rc-motion-e5411b45.js";import"./react-is-e8e5dbb3.js";var Et=a.createContext(null),vt=[];function Ht(e,t){var r=a.useState(function(){if(!Tr())return null;var y=document.createElement("div");return y}),n=b(r,1),o=n[0],i=a.useRef(!1),l=a.useContext(Et),s=a.useState(vt),f=b(s,2),m=f[0],C=f[1],d=l||(i.current?void 0:function(y){C(function(S){var N=[y].concat(tt(S));return N})});function w(){o.parentElement||document.body.appendChild(o),i.current=!0}function c(){var y;(y=o.parentElement)===null||y===void 0||y.removeChild(o),i.current=!1}return q(function(){return e?l?l(w):w():c(),c},[e]),q(function(){m.length&&(m.forEach(function(y){return y()}),C(vt))},[m]),[o,d]}function Vt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var At="rc-util-locker-".concat(Date.now()),ct=0;function Ft(e){var t=!!e,r=a.useState(function(){return ct+=1,"".concat(At,"_").concat(ct)}),n=b(r,1),o=n[0];q(function(){if(t){var i=Lt(document.body).width,l=Vt();Nt(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(i,"px);"):"",`
}`),o)}else lt(o);return function(){lt(o)}},[t,o])}var ft=!1;function It(e){return typeof e=="boolean"&&(ft=e),ft}var dt=function(t){return t===!1?!1:!Tr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},$t=a.forwardRef(function(e,t){var r=e.open,n=e.autoLock,o=e.getContainer;e.debug;var i=e.autoDestroy,l=i===void 0?!0:i,s=e.children,f=a.useState(r),m=b(f,2),C=m[0],d=m[1],w=C||r;a.useEffect(function(){(l||r)&&d(r)},[r,l]);var c=a.useState(function(){return dt(o)}),y=b(c,2),S=y[0],N=y[1];a.useEffect(function(){var B=dt(o);N(B??null)});var T=Ht(w&&!S),v=b(T,2),P=v[0],R=v[1],z=S??P;Ft(n&&r&&Tr()&&(z===P||z===document.body));var G=null;if(s&&Wr(s)&&t){var ee=s;G=ee.ref}var Y=St(G,t);if(!w||!Tr()||S===void 0)return null;var A=z===!1||It(),g=s;return t&&(g=a.cloneElement(s,{ref:Y})),a.createElement(Et.Provider,{value:R},A?g:wt.createPortal(g,z))}),mt=a.createContext(null);function ht(e){return e?Array.isArray(e)?e:[e]:[]}function Ut(e,t,r,n){return a.useMemo(function(){var o=ht(r??t),i=ht(n??t),l=new Set(o),s=new Set(i);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[e,t,r,n])}function qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function jt(e,t,r,n){for(var o=r.points,i=Object.keys(e),l=0;l<i.length;l+=1){var s,f=i[l];if(qt((s=e[f])===null||s===void 0?void 0:s.points,o,n))return"".concat(t,"-placement-").concat(f)}return""}function gt(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function sr(e){return e.ownerDocument.defaultView}function ot(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var o=sr(r).getComputedStyle(r),i=o.overflowX,l=o.overflowY,s=o.overflow;[i,l,s].some(function(f){return n.includes(f)})&&t.push(r),r=r.parentElement}return t}function lr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function ur(e){return lr(parseFloat(e),0)}function yt(e,t){var r=j({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement)){var o=sr(n).getComputedStyle(n),i=o.overflow,l=o.overflowClipMargin,s=o.borderTopWidth,f=o.borderBottomWidth,m=o.borderLeftWidth,C=o.borderRightWidth,d=n.getBoundingClientRect(),w=n.offsetHeight,c=n.clientHeight,y=n.offsetWidth,S=n.clientWidth,N=ur(s),T=ur(f),v=ur(m),P=ur(C),R=lr(Math.round(d.width/y*1e3)/1e3),z=lr(Math.round(d.height/w*1e3)/1e3),G=(y-S-v-P)*R,ee=(w-c-N-T)*z,Y=N*z,A=T*z,g=v*R,B=P*R,D=0,ae=0;if(i==="clip"){var re=ur(l);D=re*R,ae=re*z}var K=d.x+g-D,k=d.y+Y-ae,te=K+d.width+2*D-g-B-G,De=k+d.height+2*ae-Y-A-ee;r.left=Math.max(r.left,K),r.top=Math.max(r.top,k),r.right=Math.min(r.right,te),r.bottom=Math.min(r.bottom,De)}}),r}function Ct(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function Mt(e,t){var r=t||[],n=b(r,2),o=n[0],i=n[1];return[Ct(e.width,o),Ct(e.height,i)]}function bt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Ze(e,t){var r=t[0],n=t[1],o,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?o=e.x:n==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:i}}function Se(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,o){return o===t?r[n]||"c":n}).join("")}function Qt(e,t,r,n,o,i,l){var s=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),f=b(s,2),m=f[0],C=f[1],d=a.useRef(0),w=a.useMemo(function(){return t?ot(t):[]},[t]),c=a.useRef({}),y=function(){c.current={}};e||y();var S=Pe(function(){if(t&&r&&e){let U=function(Ge,He){var Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve,nr=D.x+Ge,or=D.y+He,ir=nr+p,kr=or+O,Yr=Math.max(nr,Ke.left),Or=Math.max(or,Ke.top),pr=Math.min(ir,Ke.right),et=Math.min(kr,Ke.bottom);return Math.max(0,(pr-Yr)*(et-Or))},ar=function(){ye=D.y+L,Qe=ye+O,Ce=D.x+x,Me=Ce+p};var v=t,P=v.style.left,R=v.style.top,z=v.style.right,G=v.style.bottom,ee=v.ownerDocument,Y=sr(v),A=j(j({},o[n]),i);v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto";var g;if(Array.isArray(r))g={x:r[0],y:r[1],width:0,height:0};else{var B=r.getBoundingClientRect();g={x:B.x,y:B.y,width:B.width,height:B.height}}var D=v.getBoundingClientRect(),ae=Y.getComputedStyle(v),re=ae.width,K=ae.height,k=ee.documentElement,te=k.clientWidth,De=k.clientHeight,Ve=k.scrollWidth,ne=k.scrollHeight,se=k.scrollTop,Ee=k.scrollLeft,O=D.height,p=D.width,Q=g.height,V=g.width,Ae={left:0,top:0,right:te,bottom:De},$e={left:-Ee,top:-se,right:Ve-Ee,bottom:ne-se},oe=A.htmlRegion,Fe="visible",Re="visibleFirst";oe!=="scroll"&&oe!==Re&&(oe=Fe);var J=oe===Re,ke=yt($e,w),M=yt(Ae,w),ve=oe===Fe?M:ke,Z=J?M:ve;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var Ie=v.getBoundingClientRect();v.style.left=P,v.style.top=R,v.style.right=z,v.style.bottom=G;var ce=lr(Math.round(p/parseFloat(re)*1e3)/1e3),me=lr(Math.round(O/parseFloat(K)*1e3)/1e3);if(ce===0||me===0||at(r)&&!Tt(r))return;var fe=A.offset,zr=A.targetOffset,Br=Mt(D,fe),vr=b(Br,2),Ue=vr[0],F=vr[1],_r=Mt(g,zr),cr=b(_r,2),Hr=cr[0],fr=cr[1];g.x-=Hr,g.y-=fr;var he=A.points||[],dr=b(he,2),Vr=dr[0],qe=dr[1],_=bt(qe),H=bt(Vr),mr=Ze(g,_),hr=Ze(D,H),ge=j({},A),x=mr.x-hr.x+Ue,L=mr.y-hr.y+F,ie=U(x,L),Le=U(x,L,M),I=Ze(g,["t","l"]),gr=Ze(D,["t","l"]),Ne=Ze(g,["b","r"]),Ye=Ze(D,["b","r"]),Te=A.overflow||{},yr=Te.adjustX,ue=Te.adjustY,Cr=Te.shiftX,Oe=Te.shiftY,je=function(He){return typeof He=="boolean"?He:He>=0},ye,Qe,Ce,Me;ar();var pe=je(ue),Mr=H[0]===_[0];if(pe&&H[0]==="t"&&(Qe>Z.bottom||c.current.bt)){var be=L;Mr?be-=O-Q:be=I.y-Ye.y-F;var er=U(x,be),Ar=U(x,be,M);er>ie||er===ie&&(!J||Ar>=Le)?(c.current.bt=!0,L=be,ge.points=[Se(H,0),Se(_,0)]):c.current.bt=!1}if(pe&&H[0]==="b"&&(ye<Z.top||c.current.tb)){var de=L;Mr?de+=O-Q:de=Ne.y-gr.y-F;var br=U(x,de),X=U(x,de,M);br>ie||br===ie&&(!J||X>=Le)?(c.current.tb=!0,L=de,ge.points=[Se(H,0),Se(_,0)]):c.current.tb=!1}var wr=je(yr),Sr=H[1]===_[1];if(wr&&H[1]==="l"&&(Me>Z.right||c.current.rl)){var xe=x;Sr?xe-=p-V:xe=I.x-Ye.x-Ue;var Pr=U(xe,L),Fr=U(xe,L,M);Pr>ie||Pr===ie&&(!J||Fr>=Le)?(c.current.rl=!0,x=xe,ge.points=[Se(H,1),Se(_,1)]):c.current.rl=!1}if(wr&&H[1]==="r"&&(Ce<Z.left||c.current.lr)){var We=x;Sr?We+=p-V:We=Ne.x-gr.x-Ue;var Dr=U(We,L),Ir=U(We,L,M);Dr>ie||Dr===ie&&(!J||Ir>=Le)?(c.current.lr=!0,x=We,ge.points=[Se(H,1),Se(_,1)]):c.current.lr=!1}ar();var ze=Cr===!0?0:Cr;typeof ze=="number"&&(Ce<M.left&&(x-=Ce-M.left,g.x+V<M.left+ze&&(x+=g.x-M.left+V-ze)),Me>M.right&&(x-=Me-M.right,g.x>M.right-ze&&(x+=g.x-M.right+ze)));var le=Oe===!0?0:Oe;typeof le=="number"&&(ye<M.top&&(L-=ye-M.top+F,g.y+Q<M.top+le&&(L+=g.y-M.top+Q-le)),Qe>M.bottom&&(L-=Qe-M.bottom-F,g.y>M.bottom-le&&(L+=g.y-M.bottom+le)));var Be=D.x+x,we=Be+p,rr=D.y+L,Ur=rr+O,Er=g.x,qr=Er+V,tr=g.y,jr=tr+Q,Qr=Math.max(Be,Er),Jr=Math.min(we,qr),$r=(Qr+Jr)/2,Gr=$r-Be,Kr=Math.max(rr,tr),Zr=Math.min(Ur,jr),Xr=(Kr+Zr)/2,Rr=Xr-rr;l==null||l(t,ge);var Je=Ie.right-D.x-(x+D.width),_e=Ie.bottom-D.y-(L+D.height);C({ready:!0,offsetX:x/ce,offsetY:L/me,offsetR:Je/ce,offsetB:_e/me,arrowX:Gr/ce,arrowY:Rr/me,scaleX:ce,scaleY:me,align:ge})}}),N=function(){d.current+=1;var P=d.current;Promise.resolve().then(function(){d.current===P&&S()})},T=function(){C(function(P){return j(j({},P),{},{ready:!1})})};return q(T,[n]),q(function(){e||T()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,N]}function Jt(e,t,r,n){q(function(){if(e&&t&&r){let C=function(){n()};var o=t,i=r,l=ot(o),s=ot(i),f=sr(i),m=new Set([f].concat(tt(l),tt(s)));return m.forEach(function(d){d.addEventListener("scroll",C,{passive:!0})}),f.addEventListener("resize",C,{passive:!0}),n(),function(){m.forEach(function(d){d.removeEventListener("scroll",C),f.removeEventListener("resize",C)})}}},[e,t,r])}function Gt(e,t,r,n,o,i,l,s){var f=a.useRef(e),m=a.useRef(!1);f.current!==e&&(m.current=!0,f.current=e),a.useEffect(function(){var C=st(function(){m.current=!1});return function(){st.cancel(C)}},[e]),a.useEffect(function(){if(t&&n&&(!o||i)){var C=function(){var G=!1,ee=function(g){var B=g.target;G=l(B)},Y=function(g){var B=g.target;!m.current&&f.current&&!G&&!l(B)&&s(!1)};return[ee,Y]},d=C(),w=b(d,2),c=w[0],y=w[1],S=C(),N=b(S,2),T=N[0],v=N[1],P=sr(n);P.addEventListener("mousedown",c,!0),P.addEventListener("click",y,!0),P.addEventListener("contextmenu",y,!0);var R=nt(r);return R&&(R.addEventListener("mousedown",T,!0),R.addEventListener("click",v,!0),R.addEventListener("contextmenu",v,!0)),function(){P.removeEventListener("mousedown",c,!0),P.removeEventListener("click",y,!0),P.removeEventListener("contextmenu",y,!0),R&&(R.removeEventListener("mousedown",T,!0),R.removeEventListener("click",v,!0),R.removeEventListener("contextmenu",v,!0))}}},[t,r,n,o,i])}function Kt(e){var t=e.prefixCls,r=e.align,n=e.arrow,o=e.arrowPos,i=n||{},l=i.className,s=i.content,f=o.x,m=f===void 0?0:f,C=o.y,d=C===void 0?0:C,w=a.useRef();if(!r||!r.points)return null;var c={position:"absolute"};if(r.autoArrow!==!1){var y=r.points[0],S=r.points[1],N=y[0],T=y[1],v=S[0],P=S[1];N===v||!["t","b"].includes(N)?c.top=d:N==="t"?c.top=0:c.bottom=0,T===P||!["l","r"].includes(T)?c.left=m:T==="l"?c.left=0:c.right=0}return a.createElement("div",{ref:w,className:Xe("".concat(t,"-arrow"),l),style:c},s)}function Zt(e){var t=e.prefixCls,r=e.open,n=e.zIndex,o=e.mask,i=e.motion;return o?a.createElement(Dt,xr({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var s=l.className;return a.createElement("div",{style:{zIndex:n},className:Xe("".concat(t,"-mask"),s)})}):null}var Xt=a.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Yt=a.forwardRef(function(e,t){var r=e.popup,n=e.className,o=e.prefixCls,i=e.style,l=e.target,s=e.onVisibleChanged,f=e.open,m=e.keepDom,C=e.onClick,d=e.mask,w=e.arrow,c=e.arrowPos,y=e.align,S=e.motion,N=e.maskMotion,T=e.forceRender,v=e.getPopupContainer,P=e.autoDestroy,R=e.portal,z=e.zIndex,G=e.onMouseEnter,ee=e.onMouseLeave,Y=e.ready,A=e.offsetX,g=e.offsetY,B=e.offsetR,D=e.offsetB,ae=e.onAlign,re=e.onPrepare,K=e.stretch,k=e.targetWidth,te=e.targetHeight,De=typeof r=="function"?r():r,Ve=f||m,ne=(v==null?void 0:v.length)>0,se=a.useState(!v||!ne),Ee=b(se,2),O=Ee[0],p=Ee[1];if(q(function(){!O&&ne&&l&&p(!0)},[O,ne,l]),!O)return null;var Q="auto",V={left:"-1000vw",top:"-1000vh",right:Q,bottom:Q};if(Y||!f){var Ae=y.points,$e=y._experimental,oe=$e==null?void 0:$e.dynamicInset,Fe=oe&&Ae[0][1]==="r",Re=oe&&Ae[0][0]==="b";Fe?(V.right=B,V.left=Q):(V.left=A,V.right=Q),Re?(V.bottom=D,V.top=Q):(V.top=g,V.bottom=Q)}var J={};return K&&(K.includes("height")&&te?J.height=te:K.includes("minHeight")&&te&&(J.minHeight=te),K.includes("width")&&k?J.width=k:K.includes("minWidth")&&k&&(J.minWidth=k)),f||(J.pointerEvents="none"),a.createElement(R,{open:T||Ve,getContainer:v&&function(){return v(l)},autoDestroy:P},a.createElement(Zt,{prefixCls:o,open:f,zIndex:z,mask:d,motion:N}),a.createElement(Pt,{onResize:ae,disabled:!f},function(ke){return a.createElement(Dt,xr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(o,"-hidden")},S,{onAppearPrepare:re,onEnterPrepare:re,visible:f,onVisibleChanged:function(ve){var Z;S==null||(Z=S.onVisibleChanged)===null||Z===void 0||Z.call(S,ve),s(ve)}}),function(M,ve){var Z=M.className,Ie=M.style,ce=Xe(o,Z,n);return a.createElement("div",{ref:xt(ke,t,ve),className:ce,style:j(j(j(j({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},V),J),Ie),{},{boxSizing:"border-box",zIndex:z},i),onMouseEnter:G,onMouseLeave:ee,onClick:C},w&&a.createElement(Kt,{prefixCls:o,arrow:w,arrowPos:c,align:y}),a.createElement(Xt,{cache:!f},De))})}))}),Ot=a.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,o=Wr(r),i=a.useCallback(function(s){Wt(t,n?n(s):s)},[n]),l=St(i,r.ref);return o?a.cloneElement(r,{ref:l}):r}),pt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ea(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t,t=a.forwardRef(function(r,n){var o=r.prefixCls,i=o===void 0?"rc-trigger-popup":o,l=r.children,s=r.action,f=s===void 0?"hover":s,m=r.showAction,C=r.hideAction,d=r.popupVisible,w=r.defaultPopupVisible,c=r.onPopupVisibleChange,y=r.afterPopupVisibleChange,S=r.mouseEnterDelay,N=r.mouseLeaveDelay,T=N===void 0?.1:N,v=r.focusDelay,P=r.blurDelay,R=r.mask,z=r.maskClosable,G=z===void 0?!0:z,ee=r.getPopupContainer,Y=r.forceRender,A=r.autoDestroy,g=r.destroyPopupOnHide,B=r.popup,D=r.popupClassName,ae=r.popupStyle,re=r.popupPlacement,K=r.builtinPlacements,k=K===void 0?{}:K,te=r.popupAlign,De=r.zIndex,Ve=r.stretch,ne=r.getPopupClassNameFromAlign,se=r.alignPoint,Ee=r.onPopupClick,O=r.onPopupAlign,p=r.arrow,Q=r.popupMotion,V=r.maskMotion,Ae=r.popupTransitionName,$e=r.popupAnimation,oe=r.maskTransitionName,Fe=r.maskAnimation,Re=r.className,J=r.getTriggerDOMNode,ke=kt(r,pt),M=A||g||!1,ve=a.useState(!1),Z=b(ve,2),Ie=Z[0],ce=Z[1];q(function(){ce(zt())},[]);var me=a.useRef({}),fe=a.useContext(mt),zr=a.useMemo(function(){return{registerSubPopup:function(h,E){me.current[h]=E,fe==null||fe.registerSubPopup(h,E)}}},[fe]),Br=Bt(),vr=a.useState(null),Ue=b(vr,2),F=Ue[0],_r=Ue[1],cr=Pe(function(u){at(u)&&F!==u&&_r(u),fe==null||fe.registerSubPopup(Br,u)}),Hr=a.useState(null),fr=b(Hr,2),he=fr[0],dr=fr[1],Vr=Pe(function(u){at(u)&&he!==u&&dr(u)}),qe=a.Children.only(l),_=(qe==null?void 0:qe.props)||{},H={},mr=Pe(function(u){var h,E,W=he;return(W==null?void 0:W.contains(u))||((h=nt(W))===null||h===void 0?void 0:h.host)===u||u===W||(F==null?void 0:F.contains(u))||((E=nt(F))===null||E===void 0?void 0:E.host)===u||u===F||Object.values(me.current).some(function($){return($==null?void 0:$.contains(u))||u===$})}),hr=gt(i,Q,$e,Ae),ge=gt(i,V,Fe,oe),x=a.useState(w||!1),L=b(x,2),ie=L[0],Le=L[1],I=d??ie,gr=Pe(function(u){d===void 0&&Le(u)});q(function(){Le(d||!1)},[d]);var Ne=a.useRef(I);Ne.current=I;var Ye=Pe(function(u){I!==u&&(gr(u),c==null||c(u))}),Te=a.useRef(),yr=function(){clearTimeout(Te.current)},ue=function(h){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;yr(),E===0?Ye(h):Te.current=setTimeout(function(){Ye(h)},E*1e3)};a.useEffect(function(){return yr},[]);var Cr=a.useState(!1),Oe=b(Cr,2),je=Oe[0],ye=Oe[1];q(function(u){(!u||I)&&ye(!0)},[I]);var Qe=a.useState(null),Ce=b(Qe,2),Me=Ce[0],pe=Ce[1],Mr=a.useState([0,0]),be=b(Mr,2),er=be[0],Ar=be[1],de=function(h){Ar([h.clientX,h.clientY])},br=Qt(I,F,se?er:he,re,k,te,O),X=b(br,11),wr=X[0],Sr=X[1],xe=X[2],Pr=X[3],Fr=X[4],We=X[5],Dr=X[6],Ir=X[7],ze=X[8],le=X[9],Be=X[10],we=Pe(function(){je||Be()});Jt(I,he,F,we),q(function(){we()},[er,re]),q(function(){I&&!(k!=null&&k[re])&&we()},[JSON.stringify(te)]);var rr=a.useMemo(function(){var u=jt(k,i,le,se);return Xe(u,ne==null?void 0:ne(le))},[le,ne,k,i,se]);a.useImperativeHandle(n,function(){return{forceAlign:we}});var Ur=function(h){ye(!1),Be(),y==null||y(h)},Er=function(){return new Promise(function(h){pe(function(){return h})})};q(function(){Me&&(Be(),Me(),pe(null))},[Me]);var qr=a.useState(0),tr=b(qr,2),jr=tr[0],Qr=tr[1],Jr=a.useState(0),$r=b(Jr,2),Gr=$r[0],Kr=$r[1],Zr=function(h,E){if(we(),Ve){var W=E.getBoundingClientRect();Qr(W.width),Kr(W.height)}},Xr=Ut(Ie,f,m,C),Rr=b(Xr,2),Je=Rr[0],_e=Rr[1],U=function(h,E,W,$){H[h]=function(it){var Lr;$==null||$(it),ue(E,W);for(var rt=arguments.length,ut=new Array(rt>1?rt-1:0),Nr=1;Nr<rt;Nr++)ut[Nr-1]=arguments[Nr];(Lr=_[h])===null||Lr===void 0||Lr.call.apply(Lr,[_,it].concat(ut))}},ar=Je.has("click"),Ge=_e.has("click")||_e.has("contextMenu");(ar||Ge)&&(H.onClick=function(u){var h;Ne.current&&Ge?ue(!1):!Ne.current&&ar&&(de(u),ue(!0));for(var E=arguments.length,W=new Array(E>1?E-1:0),$=1;$<E;$++)W[$-1]=arguments[$];(h=_.onClick)===null||h===void 0||h.call.apply(h,[_,u].concat(W))}),Gt(I,Ge,he,F,R,G,mr,ue);var He=Je.has("hover"),Ke=_e.has("hover"),nr,or;He&&(U("onMouseEnter",!0,S,function(u){de(u)}),nr=function(){(I||je)&&ue(!0,S)},se&&(H.onMouseMove=function(u){var h;(h=_.onMouseMove)===null||h===void 0||h.call(_,u)})),Ke&&(U("onMouseLeave",!1,T),or=function(){ue(!1,T)}),Je.has("focus")&&U("onFocus",!0,v),_e.has("focus")&&U("onBlur",!1,P),Je.has("contextMenu")&&(H.onContextMenu=function(u){var h;Ne.current&&_e.has("contextMenu")?ue(!1):(de(u),ue(!0)),u.preventDefault();for(var E=arguments.length,W=new Array(E>1?E-1:0),$=1;$<E;$++)W[$-1]=arguments[$];(h=_.onContextMenu)===null||h===void 0||h.call.apply(h,[_,u].concat(W))}),Re&&(H.className=Xe(_.className,Re));var ir=j(j({},_),H),kr={},Yr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Yr.forEach(function(u){ke[u]&&(kr[u]=function(){for(var h,E=arguments.length,W=new Array(E),$=0;$<E;$++)W[$]=arguments[$];(h=ir[u])===null||h===void 0||h.call.apply(h,[ir].concat(W)),ke[u].apply(ke,W)})});var Or=a.cloneElement(qe,j(j({},ir),kr)),pr={x:We,y:Dr},et=p?j({},p!==!0?p:{}):null;return a.createElement(a.Fragment,null,a.createElement(Pt,{disabled:!I,ref:Vr,onResize:Zr},a.createElement(Ot,{getTriggerDOMNode:J},Or)),a.createElement(mt.Provider,{value:zr},a.createElement(Yt,{portal:e,ref:cr,prefixCls:i,popup:B,className:Xe(D,rr),style:ae,target:he,onMouseEnter:nr,onMouseLeave:or,zIndex:De,open:I,keepDom:je,onClick:Ee,mask:R,motion:hr,maskMotion:ge,onVisibleChanged:Ur,onPrepare:Er,forceRender:Y,autoDestroy:M,getPopupContainer:ee,align:le,arrow:et,arrowPos:pr,ready:wr,offsetX:Sr,offsetY:xe,offsetR:Pr,offsetB:Fr,onAlign:we,stretch:Ve,targetWidth:jr/Ir,targetHeight:Gr/ze})))});return t}const va=ea($t);function ca(e){var t=a.createContext(void 0),r=function(o){var i=o.value,l=o.children,s=a.useRef(i);s.current=i;var f=a.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),m=b(f,1),C=m[0];return q(function(){wt.unstable_batchedUpdates(function(){C.listeners.forEach(function(d){d(i)})})},[i]),a.createElement(t.Provider,{value:C},l)};return{Context:t,Provider:r,defaultValue:e}}function fa(e,t){var r=Pe(typeof t=="function"?t:function(d){if(t===void 0)return d;if(!Array.isArray(t))return d[t];var w={};return t.forEach(function(c){w[c]=d[c]}),w}),n=a.useContext(e==null?void 0:e.Context),o=n||{},i=o.listeners,l=o.getValue,s=a.useRef();s.current=r(n?l():e==null?void 0:e.defaultValue);var f=a.useState({}),m=b(f,2),C=m[1];return q(function(){if(!n)return;function d(w){var c=r(w);_t(s.current,c,!0)||C({})}return i.add(d),function(){i.delete(d)}},[n]),s.current}var Rt=a.createContext(0);function ra(){return a.useContext(Rt)}function da(e,t){var r=Wr(e),n=function(i,l){var s=r?{ref:l}:{},f=a.useRef(0),m=a.useRef(i);return(!t||t(m.current,i))&&(f.current+=1),m.current=i,a.createElement(Rt.Provider,{value:f.current},a.createElement(e,xr({},i,s)))};return r?a.forwardRef(n):n}function ma(e,t){var r=Wr(e),n=function(i,l){var s=r?{ref:l}:{};return ra(),a.createElement(e,xr({},i,s))};return r?a.memo(a.forwardRef(n),t):a.memo(n,t)}export{$t as P,va as T,fa as a,ca as c,da as m,ma as r,ra as u};
